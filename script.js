document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("main-content"),t=document.querySelectorAll('[id^="project"]'),c=document.querySelectorAll(".view-project-btn"),o=document.querySelectorAll(".back-to-main"),n=document.getElementById("mobile-nav"),s=c=>{if(window.scrollTo(0,0),e.classList.remove("active"),t.forEach((e=>e.classList.remove("active"))),"main-content"!==c&&c){const t=document.getElementById(c);t?(t.classList.add("active"),n.classList.add("hidden")):(e.classList.add("active"),n.classList.remove("hidden"))}else e.classList.add("active"),n.classList.remove("hidden")};c.forEach((e=>{e.addEventListener("click",(()=>{const t=e.dataset.page;s(t)}))})),o.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const c=e.getAttribute("href");s("main-content"),c&&c.startsWith("#")&&setTimeout((()=>{const e=document.querySelector(c);e&&e.scrollIntoView({behavior:"smooth"})}),0)}))}));const i=document.querySelectorAll("#main-content section"),l=document.querySelectorAll(".nav-link"),a=document.querySelectorAll(".nav-mobile-link"),r=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=e.target.id;l.forEach((e=>{e.classList.toggle("active-nav",e.getAttribute("href").substring(1)===t)})),a.forEach((e=>{e.classList.toggle("active-icon",e.getAttribute("href").substring(1)===t)}))}}))}),{root:null,rootMargin:"0px",threshold:.4});i.forEach((e=>{e.id&&r.observe(e)}));const d=document.querySelectorAll(".filter-btn"),m=document.querySelectorAll(".portfolio-item");d.forEach((e=>{e.addEventListener("click",(()=>{d.forEach((e=>e.classList.remove("active"))),e.classList.add("active");const t=e.dataset.filter;m.forEach((e=>{e.style.display="none","all"!==t&&e.dataset.category!==t||(e.style.display="block")}))}))}))}));